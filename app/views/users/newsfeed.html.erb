<p><%= link_to 'User Profile', user_profile_path(@user) %></p>
<p><%= link_to 'User Posts', user_posts_path(@user) %></p>
<% @newsfeed.each do |newsfeed_post| %>
  <div style='border: 2px solid black'>
    <h4><%= newsfeed_post.user.profile.full_name %></h4>
    <div class='media'>
      <% if newsfeed_post.user.avatar.nil? %>
        <%= image_tag('user_silhouette_generic.gif', size: '50') %>
      <% else %>
        <%= image_tag newsfeed_post.user.avatar.image.url(:thumb) %>
      <% end %>
    </div>
    <div class='media-body'>
      <%= newsfeed_post.body %><br>
      <% if newsfeed_post.likes.find_by_user_id(current_user.id).nil? %>
        <%= link_to "Like(#{newsfeed_post.likes.count})", user_post_likes_path(current_user, newsfeed_post), method: :post %>
      <% else %>
        <%= link_to "Unlike(#{newsfeed_post.likes.count})", user_post_like_path(current_user, newsfeed_post, Like.where(user_id: current_user.id, likeable_id: newsfeed_post.id, likeable_type: 'Post').first.id), method: :delete %>
      <% end %>
    </div>
  </div>
<% end %>